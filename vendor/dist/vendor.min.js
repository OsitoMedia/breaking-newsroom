!function(t,e){"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("jquery")):t.jQueryBridget=e(t,t.jQuery)}(window,function(t,e){"use strict";function i(i,r,l){function a(t,e,n){var o,r="$()."+i+'("'+e+'")';return t.each(function(t,a){var h=l.data(a,i);if(!h)return void s(i+" not initialized. Cannot call methods, i.e. "+r);var c=h[e];if(!c||"_"==e.charAt(0))return void s(r+" is not a valid method");var u=c.apply(h,n);o=void 0===o?u:o}),void 0!==o?o:t}function h(t,e){t.each(function(t,n){var o=l.data(n,i);o?(o.option(e),o._init()):(o=new r(n,e),l.data(n,i,o))})}(l=l||e||t.jQuery)&&(r.prototype.option||(r.prototype.option=function(t){l.isPlainObject(t)&&(this.options=l.extend(!0,this.options,t))}),l.fn[i]=function(t){if("string"==typeof t){return a(this,t,o.call(arguments,1))}return h(this,t),this},n(l))}function n(t){!t||t&&t.bridget||(t.bridget=i)}var o=Array.prototype.slice,r=t.console,s=void 0===r?function(){}:function(t){r.error(t)};return n(e||t.jQuery),i}),function(t,e){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",e):"object"==typeof module&&module.exports?module.exports=e():t.EvEmitter=e()}("undefined"!=typeof window?window:this,function(){function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var i=this._events=this._events||{},n=i[t]=i[t]||[];return-1==n.indexOf(e)&&n.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var i=this._onceEvents=this._onceEvents||{};return(i[t]=i[t]||{})[e]=!0,this}},e.off=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var n=i.indexOf(e);return-1!=n&&i.splice(n,1),this}},e.emitEvent=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){i=i.slice(0),e=e||[];for(var n=this._onceEvents&&this._onceEvents[t],o=0;o<i.length;o++){var r=i[o];n&&n[r]&&(this.off(t,r),delete n[r]),r.apply(this,e)}return this}},e.allOff=function(){delete this._events,delete this._onceEvents},t}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("desandro-matches-selector/matches-selector",e):"object"==typeof module&&module.exports?module.exports=e():t.matchesSelector=e()}(window,function(){"use strict";var t=function(){var t=window.Element.prototype;if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],i=0;i<e.length;i++){var n=e[i],o=n+"MatchesSelector";if(t[o])return o}}();return function(e,i){return e[t](i)}}),function(t,e){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("desandro-matches-selector")):t.fizzyUIUtils=e(t,t.matchesSelector)}(window,function(t,e){var i={};i.extend=function(t,e){for(var i in e)t[i]=e[i];return t},i.modulo=function(t,e){return(t%e+e)%e},i.makeArray=function(t){var e=[];if(Array.isArray(t))e=t;else if(t&&"object"==typeof t&&"number"==typeof t.length)for(var i=0;i<t.length;i++)e.push(t[i]);else e.push(t);return e},i.removeFrom=function(t,e){var i=t.indexOf(e);-1!=i&&t.splice(i,1)},i.getParent=function(t,i){for(;t.parentNode&&t!=document.body;)if(t=t.parentNode,e(t,i))return t},i.getQueryElement=function(t){return"string"==typeof t?document.querySelector(t):t},i.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},i.filterFindElements=function(t,n){t=i.makeArray(t);var o=[];return t.forEach(function(t){if(t instanceof HTMLElement){if(!n)return void o.push(t);e(t,n)&&o.push(t);for(var i=t.querySelectorAll(n),r=0;r<i.length;r++)o.push(i[r])}}),o},i.debounceMethod=function(t,e,i){var n=t.prototype[e],o=e+"Timeout";t.prototype[e]=function(){var t=this[o];t&&clearTimeout(t);var e=arguments,r=this;this[o]=setTimeout(function(){n.apply(r,e),delete r[o]},i||100)}},i.docReady=function(t){var e=document.readyState;"complete"==e||"interactive"==e?setTimeout(t):document.addEventListener("DOMContentLoaded",t)},i.toDashed=function(t){return t.replace(/(.)([A-Z])/g,function(t,e,i){return e+"-"+i}).toLowerCase()};var n=t.console;return i.htmlInit=function(e,o){i.docReady(function(){var r=i.toDashed(o),s="data-"+r,l=document.querySelectorAll("["+s+"]"),a=document.querySelectorAll(".js-"+r),h=i.makeArray(l).concat(i.makeArray(a)),c=s+"-options",u=t.jQuery;h.forEach(function(t){var i,r=t.getAttribute(s)||t.getAttribute(c);try{i=r&&JSON.parse(r)}catch(l){return void(n&&n.error("Error parsing "+s+" on "+t.className+": "+l))}var a=new e(t,i);u&&u.data(t,o,a)})})},i}),function(t,e){"function"==typeof define&&define.amd?define("infinite-scroll/js/core",["ev-emitter/ev-emitter","fizzy-ui-utils/utils"],function(i,n){return e(t,i,n)}):"object"==typeof module&&module.exports?module.exports=e(t,require("ev-emitter"),require("fizzy-ui-utils")):t.InfiniteScroll=e(t,t.EvEmitter,t.fizzyUIUtils)}(window,function(t,e,i){function n(t,e){var s=i.getQueryElement(t);if(!s)return void console.error("Bad element for InfiniteScroll: "+(s||t));if(t=s,t.infiniteScrollGUID){var l=r[t.infiniteScrollGUID];return l.option(e),l}this.element=t,this.options=i.extend({},n.defaults),this.option(e),o&&(this.$element=o(this.element)),this.create()}var o=t.jQuery,r={};n.defaults={},n.create={},n.destroy={};var s=n.prototype;i.extend(s,e.prototype);var l=0;s.create=function(){var t=this.guid=++l;if(this.element.infiniteScrollGUID=t,r[t]=this,this.pageIndex=1,this.loadCount=0,this.updateGetPath(),!this.getPath)return void console.error("Disabling InfiniteScroll");this.updateGetAbsolutePath(),this.log("initialized",[this.element.className]),this.callOnInit();for(var e in n.create)n.create[e].call(this)},s.option=function(t){i.extend(this.options,t)},s.callOnInit=function(){var t=this.options.onInit;t&&t.call(this,this)},s.dispatchEvent=function(t,e,i){this.log(t,i);var n=e?[e].concat(i):i;if(this.emitEvent(t,n),o&&this.$element){t+=".infiniteScroll";var r=t;if(e){var s=o.Event(e);s.type=t,r=s}this.$element.trigger(r,i)}};var a={initialized:function(t){return"on "+t},request:function(t){return"URL: "+t},load:function(t,e){return(t.title||"")+". URL: "+e},error:function(t,e){return t+". URL: "+e},append:function(t,e,i){return i.length+" items. URL: "+e},last:function(t,e){return"URL: "+e},history:function(t,e){return"URL: "+e},pageIndex:function(t,e){return"current page determined to be: "+t+" from "+e}};s.log=function(t,e){if(this.options.debug){var i="[InfiniteScroll] "+t,n=a[t];n&&(i+=". "+n.apply(this,e)),console.log(i)}},s.updateMeasurements=function(){this.windowHeight=t.innerHeight;var e=this.element.getBoundingClientRect();this.top=e.top+t.pageYOffset},s.updateScroller=function(){var e=this.options.elementScroll;if(!e)return void(this.scroller=t);if(this.scroller=!0===e?this.element:i.getQueryElement(e),!this.scroller)throw"Unable to find elementScroll: "+e},s.updateGetPath=function(){var t=this.options.path;if(!t)return void console.error("InfiniteScroll path option required. Set as: "+t);var e=typeof t;return"function"==e?void(this.getPath=t):"string"==e&&t.match("{{#}}")?void this.updateGetPathTemplate(t):void this.updateGetPathSelector(t)},s.updateGetPathTemplate=function(t){this.getPath=function(){var e=this.pageIndex+1;return t.replace("{{#}}",e)}.bind(this);var e=t.replace("{{#}}","(\\d\\d?\\d?)"),i=new RegExp(e),n=location.href.match(i);n&&(this.pageIndex=parseInt(n[1],10),this.log("pageIndex",this.pageIndex,"template string"))};var h=[/^(.*?\/?page\/?)(\d\d?\d?)(.*?$)/,/^(.*?\/?\?page=)(\d\d?\d?)(.*?$)/,/(.*?)(\d\d?\d?)(?!.*\d)(.*?$)/];return s.updateGetPathSelector=function(t){var e=document.querySelector(t);if(!e)return void console.error("Bad InfiniteScroll path option. Next link not found: "+t);for(var i,n,o=e.getAttribute("href"),r=0;o&&r<h.length;r++){n=h[r];var s=o.match(n);if(s){i=s.slice(1);break}}return i?(this.isPathSelector=!0,this.getPath=function(){var t=this.pageIndex+1;return i[0]+t+i[2]}.bind(this),this.pageIndex=parseInt(i[1],10)-1,void this.log("pageIndex",[this.pageIndex,"next link"])):void console.error("InfiniteScroll unable to parse next link href: "+o)},s.updateGetAbsolutePath=function(){var t=this.getPath();if(t.match(/^http/)||t.match(/^\//))return void(this.getAbsolutePath=this.getPath);var i=location.pathname,n=i.substring(0,i.lastIndexOf("/"));this.getAbsolutePath=function(){return n+"/"+this.getPath()}},n.create.hideNav=function(){var t=i.getQueryElement(this.options.hideNav);t&&(t.style.display="none",this.nav=t)},n.destroy.hideNav=function(){this.nav&&(this.nav.style.display="")},s.destroy=function(){this.allOff();for(var t in n.destroy)n.destroy[t].call(this);delete this.element.infiniteScrollGUID,delete r[this.guid]},n.throttle=function(t,e){e=e||200;var i,n;return function(){var o=+new Date,r=arguments,s=function(){i=o,t.apply(this,r)}.bind(this);i&&o<i+e?(clearTimeout(n),n=setTimeout(s,e)):s()}},n.data=function(t){t=i.getQueryElement(t);var e=t&&t.infiniteScrollGUID;return e&&r[e]},n.setJQuery=function(t){o=t},i.htmlInit(n,"infinite-scroll"),o&&o.bridget&&o.bridget("infiniteScroll",n),n}),function(t,e){"function"==typeof define&&define.amd?define("infinite-scroll/js/page-load",["./core"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("./core")):e(t,t.InfiniteScroll)}(window,function(t,e){function i(t){for(var e=document.createDocumentFragment(),i=0;t&&i<t.length;i++)e.appendChild(t[i]);return e}function n(t){for(var e=t.querySelectorAll("script"),i=0;i<e.length;i++){var n=e[i],r=document.createElement("script");o(n,r),n.parentNode.replaceChild(r,n)}}function o(t,e){for(var i=t.attributes,n=0;n<i.length;n++){var o=i[n];e.setAttribute(o.name,o.value)}}function r(t,e,i,n){var o=new XMLHttpRequest;o.open("GET",t,!0),o.responseType=e||"",o.setRequestHeader("X-Requested-With","XMLHttpRequest"),o.onload=function(){if(200==o.status)i(o.response);else{var t=new Error(o.statusText);n(t)}},o.onerror=function(){var e=new Error("Network error requesting "+t);n(e)},o.send()}var s=e.prototype;return e.defaults.loadOnScroll=!0,e.defaults.checkLastPage=!0,e.defaults.responseType="document",e.create.pageLoad=function(){this.canLoad=!0,this.on("scrollThreshold",this.onScrollThresholdLoad),this.on("load",this.checkLastPage),this.options.outlayer&&this.on("append",this.onAppendOutlayer)},s.onScrollThresholdLoad=function(){this.options.loadOnScroll&&this.loadNextPage()},s.loadNextPage=function(){if(!this.isLoading&&this.canLoad){var t=this.getAbsolutePath();this.isLoading=!0;var e=function(e){this.onPageLoad(e,t)}.bind(this),i=function(e){this.onPageError(e,t)}.bind(this);r(t,this.options.responseType,e,i),this.dispatchEvent("request",null,[t])}},s.onPageLoad=function(t,e){return this.options.append||(this.isLoading=!1),this.pageIndex++,this.loadCount++,this.dispatchEvent("load",null,[t,e]),this.appendNextPage(t,e),t},s.appendNextPage=function(t,e){var n=this.options.append;if("document"==this.options.responseType&&n){var r=t.querySelectorAll(n),s=i(r),l=function(){this.appendItems(r,s),this.isLoading=!1,this.dispatchEvent("append",null,[t,e,r])}.bind(this);this.options.outlayer?this.appendOutlayerItems(s,l):l()}},s.appendItems=function(t,e){t&&t.length&&(e=e||i(t),n(e),this.element.appendChild(e))},s.appendOutlayerItems=function(i,n){var o=e.imagesLoaded||t.imagesLoaded;return o?void o(i,n):(console.error("[InfiniteScroll] imagesLoaded required for outlayer option"),void(this.isLoading=!1))},s.onAppendOutlayer=function(t,e,i){this.options.outlayer.appended(i)},s.checkLastPage=function(t,e){var i=this.options.checkLastPage;if(i){var n=this.options.path;if("function"==typeof n){if(!this.getPath())return void this.lastPageReached(t,e)}var r;if("string"==typeof i?r=i:this.isPathSelector&&(r=n),r&&t.querySelector){t.querySelector(r)||this.lastPageReached(t,e)}}},s.lastPageReached=function(t,e){this.canLoad=!1,this.dispatchEvent("last",null,[t,e])},s.onPageError=function(t,e){return this.isLoading=!1,this.canLoad=!1,this.dispatchEvent("error",null,[t,e]),t},e.create.prefill=function(){if(this.options.prefill){var t=this.options.append;if(!t)return void console.error("append option required for prefill. Set as :"+t);this.updateMeasurements(),this.updateScroller(),this.isPrefilling=!0,this.on("append",this.prefill),this.once("error",this.stopPrefill),this.once("last",this.stopPrefill),this.prefill()}},s.prefill=function(){var t=this.getPrefillDistance();this.isPrefilling=t>=0,this.isPrefilling?(this.log("prefill"),this.loadNextPage()):this.stopPrefill()},s.getPrefillDistance=function(){return this.options.elementScroll?this.scroller.clientHeight-this.scroller.scrollHeight:this.windowHeight-this.element.clientHeight},s.stopPrefill=function(){console.log("stopping prefill"),this.off("append",this.prefill)},e}),function(t,e){"function"==typeof define&&define.amd?define("infinite-scroll/js/scroll-watch",["./core","fizzy-ui-utils/utils"],function(i,n){return e(t,i,n)}):"object"==typeof module&&module.exports?module.exports=e(t,require("./core"),require("fizzy-ui-utils")):e(t,t.InfiniteScroll,t.fizzyUIUtils)}(window,function(t,e,i){var n=e.prototype;return e.defaults.scrollThreshold=400,e.create.scrollWatch=function(){this.pageScrollHandler=this.onPageScroll.bind(this),this.resizeHandler=this.onResize.bind(this);var t=this.options.scrollThreshold;(t||0===t)&&this.enableScrollWatch()},e.destroy.scrollWatch=function(){this.disableScrollWatch()},n.enableScrollWatch=function(){this.isScrollWatching||(this.isScrollWatching=!0,this.updateMeasurements(),this.updateScroller(),this.on("last",this.disableScrollWatch),this.bindScrollWatchEvents(!0))},n.disableScrollWatch=function(){this.isScrollWatching&&(this.bindScrollWatchEvents(!1),delete this.isScrollWatching)},n.bindScrollWatchEvents=function(e){var i=e?"addEventListener":"removeEventListener";this.scroller[i]("scroll",this.pageScrollHandler),t[i]("resize",this.resizeHandler)},n.onPageScroll=e.throttle(function(){this.getBottomDistance()<=this.options.scrollThreshold&&this.dispatchEvent("scrollThreshold")}),n.getBottomDistance=function(){return this.options.elementScroll?this.getElementBottomDistance():this.getWindowBottomDistance()},n.getWindowBottomDistance=function(){return this.top+this.element.clientHeight-(t.pageYOffset+this.windowHeight)},n.getElementBottomDistance=function(){return this.scroller.scrollHeight-(this.scroller.scrollTop+this.scroller.clientHeight)},n.onResize=function(){this.updateMeasurements()},i.debounceMethod(e,"onResize",150),e}),function(t,e){"function"==typeof define&&define.amd?define("infinite-scroll/js/history",["./core","fizzy-ui-utils/utils"],function(i,n){return e(t,i,n)}):"object"==typeof module&&module.exports?module.exports=e(t,require("./core"),require("fizzy-ui-utils")):e(t,t.InfiniteScroll,t.fizzyUIUtils)}(window,function(t,e,i){var n=e.prototype;e.defaults.history="replace";var o=document.createElement("a");return e.create.history=function(){if(this.options.history){o.href=this.getAbsolutePath();return(o.origin||o.protocol+"//"+o.host)==location.origin?void(this.options.append?this.createHistoryAppend():this.createHistoryPageLoad()):void console.error("[InfiniteScroll] cannot set history with different origin: "+o.origin+" on "+location.origin+" . History behavior disabled.")}},n.createHistoryAppend=function(){this.updateMeasurements(),this.updateScroller(),this.scrollPages=[{top:0,path:location.href,title:document.title}],this.scrollPageIndex=0,this.scrollHistoryHandler=this.onScrollHistory.bind(this),this.unloadHandler=this.onUnload.bind(this),this.scroller.addEventListener("scroll",this.scrollHistoryHandler),this.on("append",this.onAppendHistory),this.bindHistoryAppendEvents(!0)},n.bindHistoryAppendEvents=function(e){var i=e?"addEventListener":"removeEventListener";this.scroller[i]("scroll",this.scrollHistoryHandler),t[i]("unload",this.unloadHandler)},n.createHistoryPageLoad=function(){this.on("load",this.onPageLoadHistory)},e.destroy.history=n.destroyHistory=function(){this.options.history&&this.options.append&&this.bindHistoryAppendEvents(!1)},n.onAppendHistory=function(t,e,i){var n=i[0],r=this.getElementScrollY(n);o.href=e,this.scrollPages.push({top:r,path:o.href,title:t.title})},n.getElementScrollY=function(t){return this.options.elementScroll?this.getElementElementScrollY(t):this.getElementWindowScrollY(t)},n.getElementWindowScrollY=function(e){return e.getBoundingClientRect().top+t.pageYOffset},n.getElementElementScrollY=function(t){return t.offsetTop-this.top},n.onScrollHistory=function(){for(var t,e,i=this.getScrollViewY(),n=0;n<this.scrollPages.length;n++){var o=this.scrollPages[n];if(o.top>=i)break;t=n,e=o}t!=this.scrollPageIndex&&(this.scrollPageIndex=t,this.setHistory(e.title,e.path))},i.debounceMethod(e,"onScrollHistory",150),n.getScrollViewY=function(){return this.options.elementScroll?this.scroller.scrollTop+this.scroller.clientHeight/2:t.pageYOffset+this.windowHeight/2},n.setHistory=function(t,e){var i=this.options.history;i&&history[i+"State"]&&(history[i+"State"](null,t,e),this.options.historyTitle&&(document.title=t),this.dispatchEvent("history",null,[t,e]))},n.onUnload=function(){var e=this.scrollPageIndex;if(0!==e){var i=this.scrollPages[e],n=t.pageYOffset-i.top+this.top;this.destroyHistory(),scrollTo(0,n)}},n.onPageLoadHistory=function(t,e){this.setHistory(t.title,e)},e}),function(t,e){"function"==typeof define&&define.amd?define("infinite-scroll/js/button",["./core","fizzy-ui-utils/utils"],function(i,n){return e(t,i,n)}):"object"==typeof module&&module.exports?module.exports=e(t,require("./core"),require("fizzy-ui-utils")):e(t,t.InfiniteScroll,t.fizzyUIUtils)}(window,function(t,e,i){function n(t,e){this.element=t,this.infScroll=e,this.clickHandler=this.onClick.bind(this),this.element.addEventListener("click",this.clickHandler),e.on("request",this.disable.bind(this)),e.on("load",this.enable.bind(this)),e.on("error",this.hide.bind(this)),e.on("last",this.hide.bind(this))}return e.create.button=function(){var t=i.getQueryElement(this.options.button);if(t)return void(this.button=new n(t,this))},e.destroy.button=function(){this.button&&this.button.destroy()},n.prototype.onClick=function(t){t.preventDefault(),this.infScroll.loadNextPage()},n.prototype.enable=function(){this.element.removeAttribute("disabled")},n.prototype.disable=function(){this.element.disabled="disabled"},n.prototype.hide=function(){this.element.style.display="none"},n.prototype.destroy=function(){this.element.removeEventListener("click",this.clickHandler)},e.Button=n,e}),function(t,e){"function"==typeof define&&define.amd?define("infinite-scroll/js/status",["./core","fizzy-ui-utils/utils"],function(i,n){return e(t,i,n)}):"object"==typeof module&&module.exports?module.exports=e(t,require("./core"),require("fizzy-ui-utils")):e(t,t.InfiniteScroll,t.fizzyUIUtils)}(window,function(t,e,i){function n(t){r(t,"none")}function o(t){r(t,"block")}function r(t,e){t&&(t.style.display=e)}var s=e.prototype;return e.create.status=function(){var t=i.getQueryElement(this.options.status);t&&(this.statusElement=t,this.statusEventElements={request:t.querySelector(".infinite-scroll-request"),error:t.querySelector(".infinite-scroll-error"),last:t.querySelector(".infinite-scroll-last")},this.on("request",this.showRequestStatus),this.on("error",this.showErrorStatus),this.on("last",this.showLastStatus),this.bindHideStatus("on"))},s.bindHideStatus=function(t){var e=this.options.append?"append":"load";this[t](e,this.hideAllStatus)},s.showRequestStatus=function(){this.showStatus("request")},s.showErrorStatus=function(){this.showStatus("error")},s.showLastStatus=function(){this.showStatus("last"),this.bindHideStatus("off")},s.showStatus=function(t){o(this.statusElement),this.hideStatusEventElements(),o(this.statusEventElements[t])},s.hideAllStatus=function(){n(this.statusElement),this.hideStatusEventElements()},s.hideStatusEventElements=function(){for(var t in this.statusEventElements){n(this.statusEventElements[t])}},e}),function(t,e){"function"==typeof define&&define.amd?define(["infinite-scroll/js/core","infinite-scroll/js/page-load","infinite-scroll/js/scroll-watch","infinite-scroll/js/history","infinite-scroll/js/button","infinite-scroll/js/status"],e):"object"==typeof module&&module.exports&&(module.exports=e(require("./core"),require("./page-load"),require("./scroll-watch"),require("./history"),require("./button"),require("./status")))}(window,function(t){return t}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("imagesloaded/imagesloaded",["ev-emitter/ev-emitter"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("ev-emitter")):t.imagesLoaded=e(t,t.EvEmitter)}("undefined"!=typeof window?window:this,function(t,e){function i(t,e){for(var i in e)t[i]=e[i];return t}function n(t){return Array.isArray(t)?t:"object"==typeof t&&"number"==typeof t.length?h.call(t):[t]}function o(t,e,r){if(!(this instanceof o))return new o(t,e,r);var s=t;return"string"==typeof t&&(s=document.querySelectorAll(t)),s?(this.elements=n(s),this.options=i({},this.options),"function"==typeof e?r=e:i(this.options,e),r&&this.on("always",r),this.getImages(),l&&(this.jqDeferred=new l.Deferred),void setTimeout(this.check.bind(this))):void a.error("Bad element for imagesLoaded "+(s||t))}function r(t){this.img=t}function s(t,e){this.url=t,this.element=e,this.img=new Image}var l=t.jQuery,a=t.console,h=Array.prototype.slice;o.prototype=Object.create(e.prototype),o.prototype.options={},o.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},o.prototype.addElementImages=function(t){"IMG"==t.nodeName&&this.addImage(t),!0===this.options.background&&this.addElementBackgroundImages(t);var e=t.nodeType;if(e&&c[e]){for(var i=t.querySelectorAll("img"),n=0;n<i.length;n++){var o=i[n];this.addImage(o)}if("string"==typeof this.options.background){var r=t.querySelectorAll(this.options.background);for(n=0;n<r.length;n++){var s=r[n];this.addElementBackgroundImages(s)}}}};var c={1:!0,9:!0,11:!0};return o.prototype.addElementBackgroundImages=function(t){var e=getComputedStyle(t);if(e)for(var i=/url\((['"])?(.*?)\1\)/gi,n=i.exec(e.backgroundImage);null!==n;){var o=n&&n[2];o&&this.addBackground(o,t),n=i.exec(e.backgroundImage)}},o.prototype.addImage=function(t){var e=new r(t);this.images.push(e)},o.prototype.addBackground=function(t,e){var i=new s(t,e);this.images.push(i)},o.prototype.check=function(){function t(t,i,n){setTimeout(function(){e.progress(t,i,n)})}var e=this;return this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?void this.images.forEach(function(e){e.once("progress",t),e.check()}):void this.complete()},o.prototype.progress=function(t,e,i){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded,this.emitEvent("progress",[this,t,e]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,t),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&a&&a.log("progress: "+i,t,e)},o.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(t,[this]),this.emitEvent("always",[this]),this.jqDeferred){var e=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[e](this)}},r.prototype=Object.create(e.prototype),r.prototype.check=function(){return this.getIsImageComplete()?void this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),void(this.proxyImage.src=this.img.src))},r.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},r.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.img,e])},r.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},r.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},r.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},r.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},s.prototype=Object.create(r.prototype),s.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},s.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},s.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.element,e])},o.makeJQueryPlugin=function(e){(e=e||t.jQuery)&&(l=e,l.fn.imagesLoaded=function(t,e){return new o(this,t,e).jqDeferred.promise(l(this))})},o.makeJQueryPlugin(),o}),function(){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function addEventListener(el,eventName,handler){el.addEventListener(eventName,handler)}function updateWndVars(e){wndW=window.innerWidth||document.documentElement.clientWidth,wndH=window.innerHeight||document.documentElement.clientHeight,"object"!==(void 0===e?"undefined":_typeof(e))||"load"!==e.type&&"DOMContentLoaded"!==e.type||(forceResizeParallax=!0)}function updateParallax(){if(jarallaxList.length){wndY=void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop;var isResized=forceResizeParallax||!oldPageData||oldPageData.width!==wndW||oldPageData.height!==wndH,isScrolled=isResized||!oldPageData||oldPageData.y!==wndY;forceResizeParallax=!1,(isResized||isScrolled)&&(jarallaxList.forEach(function(item){isResized&&item.onResize(),isScrolled&&item.onScroll()}),oldPageData={width:wndW,height:wndH,y:wndY}),rAF(updateParallax)}}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},supportTransform=function(){for(var prefixes="transform WebkitTransform MozTransform".split(" "),div=document.createElement("div"),i=0;i<prefixes.length;i++)if(div&&void 0!==div.style[prefixes[i]])return prefixes[i];return!1}(),ua=navigator.userAgent,isAndroid=ua.toLowerCase().indexOf("android")>-1,isIOs=/iPad|iPhone|iPod/.test(ua)&&!window.MSStream,rAF=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(callback){setTimeout(callback,1e3/60)},wndW=void 0,wndH=void 0,wndY=void 0,forceResizeParallax=!1;updateWndVars(),addEventListener(window,"resize",updateWndVars),addEventListener(window,"orientationchange",updateWndVars),addEventListener(window,"load",updateWndVars),addEventListener(window,"DOMContentLoaded",updateWndVars);var jarallaxList=[],oldPageData=!1,instanceID=0,Jarallax=function(){function Jarallax(item,userOptions){_classCallCheck(this,Jarallax);var self=this;self.instanceID=instanceID++,self.$item=item,self.defaults={type:"scroll",speed:.5,imgSrc:null,imgElement:".jarallax-img",imgSize:"cover",imgPosition:"50% 50%",imgRepeat:"no-repeat",keepImg:!1,elementInViewport:null,zIndex:-100,noAndroid:!1,noIos:!1,videoSrc:null,videoStartTime:0,videoEndTime:0,videoVolume:0,videoPlayOnlyVisible:!0,onScroll:null,onInit:null,onDestroy:null,onCoverImage:null};var deprecatedDataAttribute=self.$item.getAttribute("data-jarallax"),oldDataOptions=JSON.parse(deprecatedDataAttribute||"{}");deprecatedDataAttribute&&console.warn("Detected usage of deprecated data-jarallax JSON options, you should use pure data-attribute options. See info here - https://github.com/nk-o/jarallax/issues/53");var dataOptions=self.$item.dataset||{},pureDataOptions={};Object.keys(dataOptions).forEach(function(key){var loweCaseOption=key.substr(0,1).toLowerCase()+key.substr(1);loweCaseOption&&void 0!==self.defaults[loweCaseOption]&&(pureDataOptions[loweCaseOption]=dataOptions[key])}),self.options=self.extend({},self.defaults,oldDataOptions,pureDataOptions,userOptions),self.pureOptions=self.extend({},self.options),Object.keys(self.options).forEach(function(key){"true"===self.options[key]?self.options[key]=!0:"false"===self.options[key]&&(self.options[key]=!1)}),self.options.speed=Math.min(2,Math.max(-1,parseFloat(self.options.speed)));var elementInVP=self.options.elementInViewport;elementInVP&&"object"===(void 0===elementInVP?"undefined":_typeof(elementInVP))&&void 0!==elementInVP.length&&(elementInVP=elementInVP[0]),elementInVP instanceof Element||(elementInVP=null),self.options.elementInViewport=elementInVP,self.image={src:self.options.imgSrc||null,$container:null,useImgTag:!1,position:isAndroid||isIOs?"absolute":"fixed"},self.initImg()&&self.canInitParallax()&&self.init()}return _createClass(Jarallax,[{key:"css",value:function(el,styles){return"string"==typeof styles?window.getComputedStyle(el).getPropertyValue(styles):(styles.transform&&supportTransform&&(styles[supportTransform]=styles.transform),Object.keys(styles).forEach(function(key){el.style[key]=styles[key]}),el)}},{key:"extend",value:function(out){var _arguments=arguments;return out=out||{},Object.keys(arguments).forEach(function(i){_arguments[i]&&Object.keys(_arguments[i]).forEach(function(key){out[key]=_arguments[i][key]})}),out}},{key:"getWindowData",value:function(){return{width:wndW,height:wndH,y:wndY}}},{key:"initImg",value:function(){var self=this,$imgElement=self.options.imgElement;return $imgElement&&"string"==typeof $imgElement&&($imgElement=self.$item.querySelector($imgElement)),$imgElement instanceof Element||($imgElement=null),$imgElement&&(self.options.keepImg?self.image.$item=$imgElement.cloneNode(!0):(self.image.$item=$imgElement,self.image.$itemParent=$imgElement.parentNode),self.image.useImgTag=!0),!!self.image.$item||(null===self.image.src&&(self.image.src=self.css(self.$item,"background-image").replace(/^url\(['"]?/g,"").replace(/['"]?\)$/g,"")),!(!self.image.src||"none"===self.image.src))}},{key:"canInitParallax",value:function(){return supportTransform&&!(isAndroid&&this.options.noAndroid)&&!(isIOs&&this.options.noIos)}},{key:"init",value:function(){var self=this,containerStyles={position:"absolute",top:0,left:0,width:"100%",height:"100%",overflow:"hidden",pointerEvents:"none"},imageStyles={};if(!self.options.keepImg){var curStyle=self.$item.getAttribute("style");if(curStyle&&self.$item.setAttribute("data-jarallax-original-styles",curStyle),self.image.useImgTag){var curImgStyle=self.image.$item.getAttribute("style");curImgStyle&&self.image.$item.setAttribute("data-jarallax-original-styles",curImgStyle)}}if("static"===self.css(self.$item,"position")&&self.css(self.$item,{position:"relative"}),"auto"===self.css(self.$item,"z-index")&&self.css(self.$item,{zIndex:0}),self.image.$container=document.createElement("div"),self.css(self.image.$container,containerStyles),self.css(self.image.$container,{"z-index":self.options.zIndex}),self.image.$container.setAttribute("id","jarallax-container-"+self.instanceID),self.$item.appendChild(self.image.$container),self.image.useImgTag?imageStyles=self.extend({"object-fit":self.options.imgSize,"object-position":self.options.imgPosition,
"font-family":"object-fit: "+self.options.imgSize+"; object-position: "+self.options.imgPosition+";","max-width":"none"},containerStyles,imageStyles):(self.image.$item=document.createElement("div"),imageStyles=self.extend({"background-position":self.options.imgPosition,"background-size":self.options.imgSize,"background-repeat":self.options.imgRepeat,"background-image":'url("'+self.image.src+'")'},containerStyles,imageStyles)),"opacity"!==self.options.type&&"scale"!==self.options.type&&"scale-opacity"!==self.options.type&&1!==self.options.speed||(self.image.position="absolute"),"fixed"===self.image.position)for(var parentWithTransform=0,$itemParents=self.$item;null!==$itemParents&&$itemParents!==document&&0===parentWithTransform;){var parentTransform=self.css($itemParents,"-webkit-transform")||self.css($itemParents,"-moz-transform")||self.css($itemParents,"transform");parentTransform&&"none"!==parentTransform&&(parentWithTransform=1,self.image.position="absolute"),$itemParents=$itemParents.parentNode}imageStyles.position=self.image.position,self.css(self.image.$item,imageStyles),self.image.$container.appendChild(self.image.$item),self.coverImage(),self.clipContainer(),self.onScroll(!0),self.options.onInit&&self.options.onInit.call(self),"none"!==self.css(self.$item,"background-image")&&self.css(self.$item,{"background-image":"none"}),self.addToParallaxList()}},{key:"addToParallaxList",value:function(){jarallaxList.push(this),1===jarallaxList.length&&updateParallax()}},{key:"removeFromParallaxList",value:function(){var self=this;jarallaxList.forEach(function(item,key){item.instanceID===self.instanceID&&jarallaxList.splice(key,1)})}},{key:"destroy",value:function(){var self=this;self.removeFromParallaxList();var originalStylesTag=self.$item.getAttribute("data-jarallax-original-styles");if(self.$item.removeAttribute("data-jarallax-original-styles"),originalStylesTag?self.$item.setAttribute("style",originalStylesTag):self.$item.removeAttribute("style"),self.image.useImgTag){var originalStylesImgTag=self.image.$item.getAttribute("data-jarallax-original-styles");self.image.$item.removeAttribute("data-jarallax-original-styles"),originalStylesImgTag?self.image.$item.setAttribute("style",originalStylesTag):self.image.$item.removeAttribute("style"),self.image.$itemParent&&self.image.$itemParent.appendChild(self.image.$item)}self.$clipStyles&&self.$clipStyles.parentNode.removeChild(self.$clipStyles),self.image.$container&&self.image.$container.parentNode.removeChild(self.image.$container),self.options.onDestroy&&self.options.onDestroy.call(self),delete self.$item.jarallax}},{key:"clipContainer",value:function(){if("fixed"===this.image.position){var self=this,rect=self.image.$container.getBoundingClientRect(),width=rect.width,height=rect.height;if(!self.$clipStyles){self.$clipStyles=document.createElement("style"),self.$clipStyles.setAttribute("type","text/css"),self.$clipStyles.setAttribute("id","jarallax-clip-"+self.instanceID);(document.head||document.getElementsByTagName("head")[0]).appendChild(self.$clipStyles)}var styles="#jarallax-container-"+self.instanceID+" {\n           clip: rect(0 "+width+"px "+height+"px 0);\n           clip: rect(0, "+width+"px, "+height+"px, 0);\n        }";self.$clipStyles.styleSheet?self.$clipStyles.styleSheet.cssText=styles:self.$clipStyles.innerHTML=styles}}},{key:"coverImage",value:function(){var self=this,rect=self.image.$container.getBoundingClientRect(),contH=rect.height,speed=self.options.speed,isScroll="scroll"===self.options.type||"scroll-opacity"===self.options.type,scrollDist=0,resultH=contH,resultMT=0;return isScroll&&(scrollDist=speed<0?speed*Math.max(contH,wndH):speed*(contH+wndH),speed>1?resultH=Math.abs(scrollDist-wndH):speed<0?resultH=scrollDist/speed+Math.abs(scrollDist):resultH+=Math.abs(wndH-contH)*(1-speed),scrollDist/=2),self.parallaxScrollDistance=scrollDist,resultMT=isScroll?(wndH-resultH)/2:(contH-resultH)/2,self.css(self.image.$item,{height:resultH+"px",marginTop:resultMT+"px",left:"fixed"===self.image.position?rect.left+"px":"0",width:rect.width+"px"}),self.options.onCoverImage&&self.options.onCoverImage.call(self),{image:{height:resultH,marginTop:resultMT},container:rect}}},{key:"isVisible",value:function(){return this.isElementInViewport||!1}},{key:"onScroll",value:function(force){var self=this,rect=self.$item.getBoundingClientRect(),contT=rect.top,contH=rect.height,styles={},viewportRect=rect;if(self.options.elementInViewport&&(viewportRect=self.options.elementInViewport.getBoundingClientRect()),self.isElementInViewport=viewportRect.bottom>=0&&viewportRect.right>=0&&viewportRect.top<=wndH&&viewportRect.left<=wndW,force||self.isElementInViewport){var beforeTop=Math.max(0,contT),beforeTopEnd=Math.max(0,contH+contT),afterTop=Math.max(0,-contT),beforeBottom=Math.max(0,contT+contH-wndH),beforeBottomEnd=Math.max(0,contH-(contT+contH-wndH)),afterBottom=Math.max(0,-contT+wndH-contH),fromViewportCenter=1-2*(wndH-contT)/(wndH+contH),visiblePercent=1;if(contH<wndH?visiblePercent=1-(afterTop||beforeBottom)/contH:beforeTopEnd<=wndH?visiblePercent=beforeTopEnd/wndH:beforeBottomEnd<=wndH&&(visiblePercent=beforeBottomEnd/wndH),"opacity"!==self.options.type&&"scale-opacity"!==self.options.type&&"scroll-opacity"!==self.options.type||(styles.transform="translate3d(0,0,0)",styles.opacity=visiblePercent),"scale"===self.options.type||"scale-opacity"===self.options.type){var scale=1;self.options.speed<0?scale-=self.options.speed*visiblePercent:scale+=self.options.speed*(1-visiblePercent),styles.transform="scale("+scale+") translate3d(0,0,0)"}if("scroll"===self.options.type||"scroll-opacity"===self.options.type){var positionY=self.parallaxScrollDistance*fromViewportCenter;"absolute"===self.image.position&&(positionY-=contT),styles.transform="translate3d(0,"+positionY+"px,0)"}self.css(self.image.$item,styles),self.options.onScroll&&self.options.onScroll.call(self,{section:rect,beforeTop:beforeTop,beforeTopEnd:beforeTopEnd,afterTop:afterTop,beforeBottom:beforeBottom,beforeBottomEnd:beforeBottomEnd,afterBottom:afterBottom,visiblePercent:visiblePercent,fromViewportCenter:fromViewportCenter})}}},{key:"onResize",value:function(){this.coverImage(),this.clipContainer()}}]),Jarallax}(),plugin=function(items){("object"===("undefined"==typeof HTMLElement?"undefined":_typeof(HTMLElement))?items instanceof HTMLElement:items&&"object"===(void 0===items?"undefined":_typeof(items))&&null!==items&&1===items.nodeType&&"string"==typeof items.nodeName)&&(items=[items]);var options=arguments[1],args=Array.prototype.slice.call(arguments,2),len=items.length,k=0,ret=void 0;for(k;k<len;k++)if("object"===(void 0===options?"undefined":_typeof(options))||void 0===options?items[k].jarallax||(items[k].jarallax=new Jarallax(items[k],options)):items[k].jarallax&&(ret=items[k].jarallax[options].apply(items[k].jarallax,args)),void 0!==ret)return ret;return items};plugin.constructor=Jarallax;var oldPlugin=window.jarallax;if(window.jarallax=plugin,window.jarallax.noConflict=function(){return window.jarallax=oldPlugin,this},"undefined"!=typeof jQuery){var jQueryPlugin=function(){var args=arguments||[];Array.prototype.unshift.call(args,this);var res=plugin.apply(window,args);return"object"!==(void 0===res?"undefined":_typeof(res))?res:this};jQueryPlugin.constructor=Jarallax;var oldJqPlugin=jQuery.fn.jarallax;jQuery.fn.jarallax=jQueryPlugin,jQuery.fn.jarallax.noConflict=function(){return jQuery.fn.jarallax=oldJqPlugin,this}}addEventListener(window,"DOMContentLoaded",function(){plugin(document.querySelectorAll("[data-jarallax]"))})}(),function(){"use strict";!function(){function addEventListener(el,eventName,handler){el.addEventListener(eventName,handler)}if("undefined"!=typeof jarallax){var Jarallax=jarallax.constructor;["initImg","canInitParallax","init","destroy","clipContainer","coverImage","isVisible","onScroll","onResize"].forEach(function(key){var def=Jarallax.prototype[key];Jarallax.prototype[key]=function(){var self=this,args=arguments||[];if("initImg"===key&&null!==self.$item.getAttribute("data-jarallax-element")&&(self.options.type="element",self.pureOptions.speed=self.$item.getAttribute("data-jarallax-element")||self.pureOptions.speed),"element"!==self.options.type)return def.apply(self,args);switch(key){case"init":var speedArr=self.pureOptions.speed.split(" ");self.options.speed=self.pureOptions.speed||0,self.options.speedY=speedArr[0]?parseFloat(speedArr[0]):0,self.options.speedX=speedArr[1]?parseFloat(speedArr[1]):0,self.onResize(),self.onScroll(),self.addToParallaxList();break;case"onResize":var defTransform=self.css(self.$item,"transform");self.css(self.$item,{transform:""});var rect=self.$item.getBoundingClientRect();self.itemData={width:rect.width,height:rect.height,y:rect.top+self.getWindowData().y,x:rect.left},self.css(self.$item,{transform:defTransform});break;case"onScroll":var wnd=self.getWindowData(),centerPercent=(wnd.y+wnd.height/2-self.itemData.y)/(wnd.height/2),moveY=centerPercent*self.options.speedY,moveX=centerPercent*self.options.speedX;self.css(self.$item,{transform:"translate3d("+moveX+"px,"+moveY+"px,0)"});break;case"initImg":case"isVisible":case"clipContainer":case"coverImage":return!0;default:return def.apply(self,args)}}}),addEventListener(window,"DOMContentLoaded",function(){jarallax(document.querySelectorAll("[data-jarallax-element]"))})}}()}();var j=jQuery.noConflict();j(document).ready(function(){var e=j("body"),n=e.offset();j(window).on("scroll",function(){j(window).scrollTop()>n.top?e.addClass("fixed-body"):e.removeClass("fixed-body")})}),j(document).ready(function(){j("[data-toggle='body']").click(function(){var e=j(this).data("toggle");j(e).toggleClass("open-sidebar")}),j("[data-toggle='#header .search, #header .search-hidden, #search-mask']").click(function(){var e=j(this).data("toggle");j(e).toggleClass("show")})}),j(document).ready(function(){j("#infinite").infiniteScroll({path:".next-post",append:".article",status:".page-load-status",button:".view-more-button",scrollThreshold:!1})});